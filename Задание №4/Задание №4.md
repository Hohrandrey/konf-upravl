# Задание №4
  
  Разработать ассемблер и интерпретатор для учебной виртуальной машины
Разработать ассемблер и интерпретатор для учебной виртуальной машины
(УВМ). Система команд УВМ представлена далее.

  Для ассемблера необходимо разработать читаемое представление команд
Для ассемблера необходимо разработать читаемое представление команд
УВМ. Ассемблер принимает на вход файл с текстом исходной программы, путь к
которой задается из командной строки. Результатом работы ассемблера является
бинарный файл в виде последовательности байт, путь к которому задается из
командной строки. Дополнительный ключ командной строки задает путь к файлулогу, в котором хранятся ассемблированные инструкции в духе списков
“ключ=значение”, как в приведенных далее тестах.

  Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ
Интерпретатор принимает на вход бинарный файл, выполняет команды УВМ
и сохраняет в файле-результате значения из диапазона памяти УВМ. Диапазон
также указывается из командной строки.

  Форматом для файла-лога и файла-результата является **json**.
  Необходимо реализовать приведенные тесты для всех команд, а также
написать и отладить тестовую программу.
  **Загрузка константы**
  
![](https://github.com/Hohrandrey/konf-upravl/blob/main/Задание%20№4/screens/Загрузка%20константы.png)
Форматом для файла-лога и файла-результата является yaml.

  Размер команды: 7 байт. Операнд: поле C. Результат: регистр по адресу,
которым является поле B.

  Тест (A=27, B=2, C=426):
  0x5B, 0x54, 0x03, 0x00, 0x00, 0x00, 0x00
  **Чтение значения из памяти**
  
![](https://github.com/Hohrandrey/konf-upravl/blob/main/Задание%20№4/screens/Чтение%20значения%20из%20памяти.png)
  Размер команды: 7 байт. Операнд: значение в памяти по адресу, которым
является сумма адреса (регистр по адресу, которым является поле C) и смещения
(поле D). Результат: регистр по адресу, которым является поле B.
Необходимо реализовать приведенные тесты для всех команд, а также
написать и отладить тестовую программу.

  Тест (A=3, B=3, C=13, D=286):
**Загрузка константы**

  0x63, 0xDA, 0x23, 0x00, 0x00, 0x00, 0x00
  
  **Запись значения в память**
  
![](https://github.com/Hohrandrey/konf-upravl/blob/main/Задание%20№4/screens/Запись%20значения%20в%20память.png)
14 Константа
Размер команды: 5 байт. Операнд: поле B. Результат: регистр-аккумулятор.
Тест (A=14, B=129):
0x2E, 0x10, 0x00, 0x00, 0x00

  Размер команды: 7 байт. Операнд: регистр по адресу, которым является поле
B. Результат: значение в памяти по адресу, которым является поле C.
  
  Тест (A=11, B=4, C=312):
  
  0x8B, 0x70, 0x02, 0x00, 0x00, 0x00, 0x00
**Чтение значения из памяти**

  **Унарная операция: sqrt()**
  
![](https://github.com/Hohrandrey/konf-upravl/blob/main/Задание%20№4/screens/Унарная%20операция.png)
Размер команды: 3 байт. Операнд: значение в памяти по адресу, которым
является поле B. Результат: регистр-аккумулятор.
Тест (A=25, B=10):
0x59, 0x01, 0x00

  Размер команды: 7 байт. Операнд: значение в памяти по адресу, которым
является сумма адреса (регистр по адресу, которым является поле B) и смещения
(поле D). Результат: значение в памяти по адресу, которым является поле C.
**Запись значения в память**

  Тест (A=19, B=11, C=937, D=390):
Размер команды: 3 байт. Операнд: регистр-аккумулятор. Результат: значение
в памяти по адресу, которым является поле B.
Тест (A=15, B=761):
0x2F, 0x5F, 0x00
Бинарная операция: min()

  0x73, 0x53, 0x07, 0x00, 0x00, 0x86, 0x01
Размер команды: 3 байт. Первый операнд: регистр-аккумулятор. Второй
операнд: значение в памяти по адресу, которым является поле B. Результат:
регистр-аккумулятор.
Тест (A=20, B=935):
0xF4, 0x74, 0x00

  **Тестовая программа**

  Выполнить поэлементно операцию sqrt() над вектором длины 8. Результат
записать в новый вектор.
Выполнить поэлементно операцию min() над двумя векторами длины 8.
Результат записать во второй вектор.
